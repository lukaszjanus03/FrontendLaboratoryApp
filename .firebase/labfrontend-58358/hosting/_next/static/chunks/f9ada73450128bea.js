(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43370,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let l=()=>(0,t.jsx)("span",{className:"opacity-30 ml-1",children:"↕"}),s=()=>(0,t.jsx)("span",{className:"text-violet-600 ml-1",children:"↑"}),a=()=>(0,t.jsx)("span",{className:"text-violet-600 ml-1",children:"↓"});function i({headers:e,data:i}){let o,c,[n,d]=(0,r.useState)({colIndex:null,direction:null}),[x,u]=(0,r.useState)([]),h=(0,r.useMemo)(()=>{let e=[...i];return null!==n.direction&&null!==n.colIndex&&e.sort((e,t)=>{let r=e.cells[n.colIndex],l=t.cells[n.colIndex];return r<l?"asc"===n.direction?-1:1:r>l?"asc"===n.direction?1:-1:0}),e},[i,n]),b=e=>{u(t=>t.filter(t=>!e.includes(t)))};return(0,t.jsx)("div",{className:"overflow-x-auto bg-white shadow rounded-lg border border-gray-200",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs font-bold tracking-wider",children:(0,t.jsxs)("tr",{children:[e.map((e,r)=>(0,t.jsx)("th",{className:"p-4 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>{let e;return e="asc",void(n.colIndex===r&&("asc"===n.direction?e="desc":"desc"===n.direction&&(e=null)),d({colIndex:e?r:null,direction:e}))},children:(0,t.jsxs)("div",{className:"flex items-center",children:[e,n.colIndex===r?"asc"===n.direction?(0,t.jsx)(s,{}):"desc"===n.direction?(0,t.jsx)(a,{}):(0,t.jsx)(l,{}):(0,t.jsx)(l,{})]})},r)),(0,t.jsx)("th",{className:"p-4 text-right w-20",children:"Akcja"})]})}),(0,t.jsx)("tbody",{children:(o=[],c=[],h.forEach(r=>{if(x.includes(r.id))c.push(r.id);else{if(c.length>0){let r=[...c];o.push((0,t.jsx)("tr",{className:"bg-violet-50 border-b border-violet-100",children:(0,t.jsx)("td",{colSpan:e.length+1,className:"p-3 text-center",children:(0,t.jsxs)("button",{onClick:()=>b(r),className:"text-xs font-bold text-violet-700 uppercase border border-violet-300 px-3 py-1 rounded hover:bg-violet-600 hover:text-white transition",children:["Przywróć ",r.length," ukryte wiersze"]})})},`restore-${r[0]}`)),c=[]}o.push((0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition",children:[r.cells.map((e,r)=>(0,t.jsx)("td",{className:"p-4 text-sm text-gray-700",children:e},r)),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("button",{onClick:()=>{var e;return e=r.id,void u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"text-gray-400 hover:text-red-500 font-bold p-2",title:"Ukryj",children:"➖"})})]},r.id))}}),c.length>0&&o.push((0,t.jsx)("tr",{className:"bg-violet-50 border-b border-violet-100",children:(0,t.jsx)("td",{colSpan:e.length+1,className:"p-3 text-center",children:(0,t.jsxs)("button",{onClick:()=>b(c),className:"text-xs font-bold text-violet-700 uppercase border border-violet-300 px-3 py-1 rounded hover:bg-violet-600 hover:text-white transition",children:["Przywróć ",c.length," ukryte wiersze"]})})},"restore-last")),o)})]})})}e.s(["default",()=>i])},31699,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(36180);var l=e.i(98925),s=e.i(151),a=e.i(71935),i=e.i(43370);function o(){let{user:e}=(0,a.useAuth)(),[o,c]=(0,r.useState)([]),[n,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{if(e)try{let t=(0,l.query)((0,l.collection)(s.db,"articles"),(0,l.where)("user","==",e.uid)),r=(await (0,l.getDocs)(t)).docs.map(e=>{let t=e.data(),r=t.date?.toDate?t.date.toDate().toLocaleDateString():"Brak daty";return{id:e.id,cells:[t.title||"Bez tytułu",r,(t.content?.substring(0,50)||"")+"..."]}});c(r)}catch(e){console.error(e)}finally{d(!1)}})()},[e]),n)?(0,t.jsx)("div",{className:"p-10 text-center",children:"Ładowanie..."}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto mt-10",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-violet-700 mb-4",children:"Moje Artykuły"}),(0,t.jsx)("p",{className:"text-gray-500 mb-8",children:"Dane pobrane z Firebase Firestore."}),o.length>0?(0,t.jsx)(i.default,{headers:["Tytuł","Data","Treść"],data:o}):(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 text-yellow-800 border border-yellow-200 rounded",children:["Brak artykułów. Dodaj je w konsoli Firebase (kolekcja `articles`, pole `user`: ",e?.uid,")."]})]})}e.s(["default",()=>o])}]);